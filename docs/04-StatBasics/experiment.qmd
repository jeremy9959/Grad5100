d pr```{r}
library(ggplot2)
rejection2 <- function(n,d=10) {
    results <- data.frame(x=seq(0,n),y=dbinom(seq(0,n),n,.5),keep=sapply(seq(0,n),function(x) (x<qbinom(.025,n,.5)) | (x>qbinom(.975,n,.5))))
    ggplot(data=results,aes(x=x,y=y,fill=keep))+geom_bar(stat="identity")+
    scale_x_continuous(breaks=seq(0,n,d))+ggtitle("Two sided rejection region at alpha=.05")

}
rejection1 <-function(n,d=10) {
    results <- data.frame(x=seq(0,n),y=dbinom(seq(0,n),n,.5),keep=sapply(seq(0,n),function(x) (x>qbinom(.95,n,.5))))
    ggplot(data=results,aes(x=x,y=y,fill=keep))+geom_bar(stat="identity")+
    scale_x_continuous(breaks=seq(0,n,d))+ggtitle("Two sided rejection region at alpha=.05")
}
```

```{r}
people <- c(rep(1,12),rep(0,12))
s<-sample(people, 10)
mean(replicate(10000,replicate(1000,sum(sample(people,10)))>8))
```


# An AB example

Baseline situation: We show two different web ads to customers at random, and measure
how often the visitor clicks through the ad.

Of the 4800 who see ad A, 975 click through.
Of the 4600 who see ad B, 1133 click through.

Is Ad B better than Ad A or is this explained by chance?

Null hypothesis: the two ads are the same, and of the 9400 who see an ad, 2108 click through.
This is a probabiility of 22.4%.

The .95 quantile for the binomial distribution with n=4600 and p=.224 is 1077.  Thus the 1133 click through
rate is significantly higher.  Similarly the 975 out of 4800 is significantly lower.

So ad B is better than ad A at the .05 significance level.








```{r}
qbinom(.95, 4600, .224)
```

